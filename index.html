<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Heart for Sania </title>
<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: black;
    overflow: hidden;
    font-family: 'Segoe UI', sans-serif;
}
canvas { display: block; }

#centerText {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: white;
    opacity: 0;
    pointer-events: none;
}

#name {
    font-size: clamp(40px, 8vw, 100px);
    font-weight: bold;
    letter-spacing: 4px;
    text-shadow: 0 0 20px red, 0 0 40px hotpink;
}

#quote {
    margin-top: 20px;
    font-size: clamp(14px, 3vw, 22px);
    color: #ffb6c1;
    font-style: italic;
    max-width: 90vw;
}
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div id="centerText">
    <div id="name"></div>
    <div id="quote"></div>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const BUTTERFLY_COLORS = [
    {wing:"#FF7F00", pattern:"#000000"},
    {wing:"#4682B4", pattern:"#1C1C1C"},
    {wing:"#DC143C", pattern:"#000000"},
    {wing:"#FFD700", pattern:"#000000"}
];

const COUNT = 700;
const BG_COUNT = 250;
const particles = [];
const heartTargets = [];
const bgParticles = [];
const trails = [];

let forming = false;
let tighten = false;
let speed = 0.002;
let pulse = 0;
const HEART_SCALE = canvas.width / 38;

function heart(t){
    return {
        x:16*Math.pow(Math.sin(t),3),
        y:-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
    };
}

for(let i=0;i<COUNT;i++){
    const t = Math.random()*Math.PI*2;
    const h = heart(t);
    heartTargets.push({
        x: h.x*HEART_SCALE + canvas.width/2,
        y: h.y*HEART_SCALE + canvas.height/2
    });
}

for(let i=0;i<COUNT;i++){
    const color = BUTTERFLY_COLORS[Math.floor(Math.random()*BUTTERFLY_COLORS.length)];
    particles.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        vx: (Math.random()-0.5)*1.5,
        vy: (Math.random()-0.5)*1.5,
        angle: Math.random()*Math.PI*2,
        flap: Math.random()*0.3+0.2,
        tx: heartTargets[i].x,
        ty: heartTargets[i].y,
        wingColor: color.wing,
        patternColor: color.pattern,
        size:6 + Math.random()*4,
        wander:true,
        phase: Math.random()*Math.PI*2,
        speedMod: Math.random()*0.5 + 0.5
    });
}

for(let i=0;i<BG_COUNT;i++){
    const color = BUTTERFLY_COLORS[Math.floor(Math.random()*BUTTERFLY_COLORS.length)];
    bgParticles.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        vx: (Math.random()-0.5)*1.0,
        vy: (Math.random()-0.5)*1.0,
        angle: Math.random()*Math.PI*2,
        flap: Math.random()*0.3+0.2,
        wingColor: color.wing,
        patternColor: color.pattern,
        size:6 + Math.random()*4,
        phase: Math.random()*Math.PI*2,
        speedMod: Math.random()*0.5 + 0.5
    });
}

function drawButterfly(p,t){
    ctx.save();
    ctx.translate(p.x,p.y);
    const flapAngle = Math.sin(t*0.02+p.angle)*Math.PI/6;
    ctx.rotate(flapAngle);
    
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.bezierCurveTo(-p.size*2,-p.size*1.5,-p.size*3,p.size,0,0);
    ctx.fillStyle = p.wingColor;
    ctx.fill();
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.bezierCurveTo(-p.size*2,-p.size*0.5,-p.size*2,p.size*0.5,0,0);
    ctx.fillStyle = p.patternColor;
    ctx.fill();

    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.bezierCurveTo(p.size*2,-p.size*1.5,p.size*3,p.size,0,0);
    ctx.fillStyle = p.wingColor;
    ctx.fill();
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.bezierCurveTo(p.size*2,-p.size*0.5,p.size*2,p.size*0.5,0,0);
    ctx.fillStyle = p.patternColor;
    ctx.fill();

    ctx.beginPath();
    ctx.arc(0,0,p.size/2,0,Math.PI*2);
    ctx.fillStyle="#000";
    ctx.fill();

    ctx.restore();
}

function drawTrail(trail){
    ctx.beginPath();
    ctx.arc(trail.x,trail.y,trail.size,0,Math.PI*2);
    ctx.fillStyle = trail.color;
    ctx.globalAlpha = trail.alpha;
    ctx.fill();
    ctx.globalAlpha=1;
}

function animate(time){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    if(tighten) pulse = Math.sin(time*0.01)*1.05+1;

    particles.forEach(p=>{
        if(!forming){
            p.phase += 0.05;
            const flutterX = Math.sin(p.phase*3)*0.7;
            const flutterY = Math.sin(p.phase*5)*0.5;
            p.x += p.vx * p.speedMod + flutterX;
            p.y += p.vy * p.speedMod + flutterY;

            if(p.x<0)p.x=canvas.width;
            if(p.x>canvas.width)p.x=0;
            if(p.y<0)p.y=canvas.height;
            if(p.y>canvas.height)p.y=0;
        } else{
            const pull = tighten ? 0.12 : speed;
            p.x += (p.tx - p.x) * pull * pulse + (Math.random()-0.5)*0.5;
            p.y += (p.ty - p.y) * pull * pulse + (Math.random()-0.5)*0.5;

            if(p.wander){
                p.phase += 0.05;
                p.x += Math.sin(p.phase*3)*0.3;
                p.y += Math.sin(p.phase*5)*0.2;
            }

            trails.push({
                x:p.x+(Math.random()-0.5)*3,
                y:p.y+(Math.random()-0.5)*3,
                size:Math.random()*1.5,
                color:p.wingColor,
                alpha:Math.random()*0.5+0.3
            });
        }
        drawButterfly(p,time);
    });

    bgParticles.forEach(p=>{
        p.phase += 0.05;
        const flutterX = Math.sin(p.phase*2)*0.8;
        const flutterY = Math.sin(p.phase*4)*0.6;
        p.x += p.vx * p.speedMod + flutterX;
        p.y += p.vy * p.speedMod + flutterY;

        if(p.x<0)p.x=canvas.width;
        if(p.x>canvas.width)p.x=0;
        if(p.y<0)p.y=canvas.height;
        if(p.y>canvas.height)p.y=0;

        drawButterfly(p,time);
    });

    for(let i=trails.length-1;i>=0;i--){
        drawTrail(trails[i]);
        trails[i].alpha-=0.03;
        if(trails[i].alpha<=0) trails.splice(i,1);
    }

    requestAnimationFrame(animate);
}

animate(0);

setTimeout(()=>{
    forming=true;
    const interval=setInterval(()=>{
        speed+=0.003;
        if(speed>=0.05){
            clearInterval(interval);
            tighten=true;
            animateText();
        }
    },200);
},3000);

function animateText(){
    const nameText="Sania";
    const quoteText="like butterflies myy heart always finds its way to youu myy loveeee";
    const nameDiv=document.getElementById("name");
    const quoteDiv=document.getElementById("quote");
    nameDiv.textContent="";
    quoteDiv.textContent="";
    let i=0;
    let j=0;
    const nameInterval=setInterval(()=>{
        if(i<nameText.length){
            nameDiv.textContent+=nameText[i];
            i++;
        }else clearInterval(nameInterval);
    },200);

    const quoteInterval=setInterval(()=>{
        if(j<quoteText.length){
            quoteDiv.textContent+=quoteText[j];
            j++;
        }else clearInterval(quoteInterval);
    },50);

    document.getElementById("centerText").style.opacity=1;
}
</script>
</body>
</html>
